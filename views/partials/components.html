{%- macro performer(details) -%}
  {%- if details.link -%}
  <a href="{{ details.link }}">{{ details.name }}</a>
  {%- else -%}
  {{ details.name }}
  {%- endif -%}
{%- endmacro -%}


{%- macro gigDetails(gig, format) -%}
  {%- if format == "short" -%}
  <h2><a href="/on/{{ gig.date | urlify() }}">{{ gig.date | date }}</a></h2>
  {%- else -%}
  <h2>{{ gig.date | date }}</h2>
  {%- endif -%}
  <h3 class="subtitle">{{ gig.strapLine }}</h3>
  <p>{{ gig.description }}</p>
  {%- if format != "short" -%}
  <h3>Featuring</h3>
  <ul class="listing">
    {% for act in gig.acts -%}
    {% if act.link -%}
    <li><a href="{{ act.link }}">{{ act.name }}</a></li>
    {% else -%}
    <li>{{ act.name }}</li>
    {% endif -%}
    {%- else -%}
    <li><p>...who knows? Perhaps you might be performing. To get a spot at this, or another Comedy in the Crown night, email us at <a href="mailto:bookings@comedyinthecrown.com">bookings@comedyinthecrown.com</a></p></li>        
    {% endfor %}
  </ul>
  <p>
    With your host for the night: {{ performer(gig.mc) }}
  </p>
  {%- endif -%}

  {% if gig.facebookEvent -%}
  <p>Find more details and post photos on the event's <a target="_BLANK" href="{{ gig.facebookEvent }}">Facebook page</a></p>
  {% endif -%}
{%- endmacro -%}